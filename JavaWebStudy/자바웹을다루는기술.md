자바 웹을 다루는 기술 
![alt text](image-1.jpg)

# 1장 프로그램의 발전 과정

일반적인 웹 페이지는 대부분 미리 서버에 등록해 두었다가 웹 브라우저가 서버에 특정 데이터를 요청하면 이를 웹 브라우저로 전송해서 보여줍니다.
이를 가능하게 하는 기술 중 하나가 JSP입니다.

웹 프로그램은 클라이언트 PC 기반 프로그램에서 시작하여 클아이언트 서버 기반 프로그램, 엡 기반 프로그램 순으로 진화해 왔습니다.

## 클라이언트 PC 기반 프로그램

인터넷이 세상에 나오기 전 PC 기반 프로그램은 기능이나 화면의 형태가 바뀌면 코드를 추가한 후 일일이 PC에 다시 설치하거나 업데이트를 해야 했습니다.
게다가 클라이언트 프로그램에 데이터베이스 접속 정보라도 들어 있다면 정보가 쉽게 노출될 수 있어 보안이취약하다는 문제도 있습니다.
이러한 클라이언트 PC 기반 프로그램의 문제점을 보완하여 나온 것이 클라이언트-서버 기반 프로그램입니다.

## 클라이언트 - 서버 기반 프로그램 동작 방식 
이 구조는 기존 클라이언트가 수행하는 모든 기능을 서버에서 수행합니다. 
클라이언트의 기능은 대폭 축소되었지요. 클라이언트는 처리할 데이터가 있으면 네트워크를 통해 서버에 전달하고, 서버가 처리한 결과를 네트워크를 통해 다시 받아 결과를 화면에 출력하는 역할만 합니다.

클라이언트-서버 기반 프로그램은 기능(로직)이 변경되어도 모두 서버에서 처리하면 되기 때문에 클라이언트 프로그램을 수정할 필요가 없습니다. 중요한 기능은 서버에서 처리하므로 클라이언트 PC기반 프로그램보다 데이터 보안 측면에서도 훨씬 우수합니다.

하지만 클라이언트-서버 기반 프로그램에도 한계가 있습니다. 지금처럼 환율 계산기 기능에 파운드와 유료 환율 변환 기능만 단순히 추가하는 경우라면 서버에서 기능을 쉽게 추가할 수 있지만, 사용자가 파운드와 유로를 서택할 수 있도록 셀렉트 박스에 '파운드'와 '유로' 항목을 추가해서 보여주어야 합니다. 즉, 로직 뿐만 아니라 클라이언트 프로그램도 수정해야 합니다.

## 웹 기반 프로그램 동작 방식
웹 기반 프로그램의 경우 클라이언트는 자신이 사용하는 클라이언트 프로그램을 직접 설치하는 것이 아니라 사용자 컴퓨터의 웹 브라우저를 통해 화면에 해당되는 HTML 문서를 서버에 요청합니다.
그러면 서버에서는 요청 받은 HTML 문서를 전송하여 해당 기능을 담당하는 화면을 보여줍니다.

죽, 웹 기반 프로그램의 경우 사용자가 사용하는 프로그램의 기능이나 화면이 바뀌면서 서버에서 모두 처리합니다.
클라이언트-서버 기반 프로그램과 마찬가지로 클라이언트가 특별히 수행해야 할 작업이 없습니다. 그리고 모든 기능을 서버에서 처리하므로 보안 면에서도 월등히 우수합니다.

```
서블릿 기반 프로그램의 실습 방법은 이 책 뒷부분에서 상세히 설명하므로 지금은 어떤 과정을 통해 웹프로그램 방식이 등장했으며 동작하는지 정도만 확인.
```
이처럼 웹 기반 프로그램은 클라이언트 측 "웹 브라우저"가 요청을 하면 웹 서버에서 계산 기능을 구현하여 결과를 돌려주는 방식입니다.

# 2장 웹 프로그래밍과 JSP
## 2.1 웹 프로그래밍의 기본
JSP가 나오기 전에는 Apache같은 웹 서버를 이용해 웹 페이지들을 브라우저에 표시하는 방식이 있었다. (정적 웹 프로그래밍)
정적 웹 프로그래밍 : 웹 서버에 미리 보여줄 HTML, CSS, 이미지, JAVASCRIPT 파일을 저장해 놓고 브라우저에서 요청할 경우 그대로 전달하는 방식.
따라서 사용자는 페이지가 변경되지 않는 한 고정된 웹 페이지를 보게 된다.
요즘 환율 정보다, 주가 정보 등 실시간으로 변하는 정보를 표시해야 할 일이 많기 때문에 거의 사용되지 않는다.
BUT 정적 웹 프로그래밍 구성 요서는 JSP에서도 여전히 화면 디자인과 기능 처리를 담당하고 있음.

### 웹 프로그래밍의 핵심 구성 요소들
- 웹 서버 : 각 클라이언트에게 서비스를 제공하는 컴퓨터를 의미.
- 클라이언트 : 네트워크로 서버에 접속한 후 서버로부터 서비스를 제공받는 컴퓨터를 의미.
- HTTP 프로토콜 : Hyper Text Transfer Protocol의 약자로, www 서비스를 제공하는 통신 규약을 의미. 웹 서버와 클라이언트는 이 프로토콜을 이용해 정보를 주고받는다.
- HTML : Hyper TText Markup Language의 약자, www 서비스를 제공하기 위한 표준 언어.
- 자바스크립트 : HTML 웹 페이지의 여러 가지 동적인 기능으 제공하는 스크립트 언어
- CSS(Style Sheet) : HTML 문서에서 서체나 색상, 정렬 등 세부적인 HTML 페이지의 디자인에 관련된 여러 가지 기능을 제공.

## 2.2 정적 웹 프로그래밍

정적인 방식으로 환율 정보를 얻는 과정
클라이언트 -> 환율 정보 요청 -> 웹서버 <- 수시로 환율 정보 업데이트 <- 관리자
          <-  환율 정보 반환 <-

- 사용자에게 화면 디자인 같은 고정된 정보만 제공합니다.
- 정보 수정 시 관리자가 직접 HTML 소스를 수정하여 사용자에게 정보를 제공합니다.

## 2.3 동적 웹 프로그래밍
정적 웹 프로그래밍에서 '관리자'가 하던 역할을 '웹 어플리케이션 서버'가 수행한다.
DB에 실시간 환율 정보가 저장되어있고, 클라이언트 요청마다 웹 어플 서버가 DB에 접근하여 정보를 불러온다.

처음 동적 방식 프로그램을 제공하는 기능은 CGI(Common Gate Interface, 공용 게이트웨이 이터페이스) 였다. 
프로그래밍 언어인 perl이 대표정인 CGI 프로그래밍 언어.

- CGI 동작 방식 특징
  - 초기 웹 서비스 프로그램에서 사용하는 방식
  - 프로세스 방식으로 실행됨
  - 서버의 부하가 심함

ex)
클라이언트들이 환율 정보 요청 -> 웹 어플 서버 : 환율 조회 기능 process를 memory에 생성 -> DB와 연동하여 클라이언트들에게 환율 정보 반환.
초기에는 인터넷 사용자도 적고, 기능도 적어 문제가 없었다.
하지만 요즘같은 시대에는 memory에 과부하가 걸린다.

이러한 문제에 대한 개선 : JSP, ASP, PHP

## 2.4 JSP 프로그램의 특징
JSP는 기본적으로 스레드(thread)방식으로 실행하기 때문에 CGI 방식보다는 효율적으로 기능을 수행합니다.

클라이언트 1이 환율 정보를 요청하면, 웹 애플리 서버는 환율 조회 기능을 memorty에 로드한 후 전송.
클라이언트 2가 요청하면, 기존의 메모리에서 기능을 꺼내와서 전송. (요청시마다 따로따로 메모리에 로드하지 않게 됨.)

*프로그램을 외부 장치에서 메모리로 로드하는 것이 과부하의 큰 원인이었음.
현재 대부분의 웹 프로그램이 스레드 방식으로 동작한다.

- JSP 동작 방식
  - 프로세스 방식이 아닌 스레드 방식으로 실행
  - 클라이언트의 요구를 처리하는 기능은 최초 한 번만 메모리에 로드.
  - 클라이언트가 동일한 기능 요구 시, 기존에 사용한 기능을 재사용.

# 3장 개발 환경 설정하기

## JDK 환경 변수 설정
설치된 JDK를 명령 프롬프트에서 사용하려면 환경 변수를 설정해야 하낟.
이클립스는 실행 시 자동으로 JDK 위치를 인식하지만, MAVEN같은 자바 관련 개발 도구들은 JDK의 위치를 환경 변수로 인식한다.
따라서 JSP 개발 시 환경 변수를 반드시 설정해야 함.

## 톰캣 컨테이너 설치하기
